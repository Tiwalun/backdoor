{% extends "layout.html" %}
{% block body %}
    <h4>Add new token</h4>
    {% include 'add_token.html' %}
    <h4>Existing tokens</h4>
    <table class="table table-striped">
        <thead>
        <tr>
            <td>ID</td>
            <td>Owner</td>
            <td>Creation Date</td>
            <td>Expiry Date</td>
            <td>Remove?</td>
        </tr>
        </thead>
        <tbody>
        {% for token in tokens %}
            <tr>
                <td>{{ token.id }}</td>
                <td>{{ token.owner.name or 'FREE' }}</td>
                <td>{{ token.creation_date }}</td>
                <td>{{ token.expiry_date }}</td>
                <td><a href="/remove_token?id={{ token.id }}">Remove</a></td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5" id="no_tokens">Unbelievable. No tokens here so far.</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
